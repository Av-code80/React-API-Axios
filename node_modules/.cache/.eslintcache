[{"/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/index.js":"1","/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/App.js":"2","/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Movies.js":"3","/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Details.js":"4","/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Quote.js":"5","/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Character.js":"6","/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/hooks/useLord.js":"7","/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/MainHeader.js":"8","/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/API/DB.js":"9","/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Rating.js":"10"},{"size":267,"mtime":1635115491856,"results":"11","hashOfConfig":"12"},{"size":506,"mtime":1635109587480,"results":"13","hashOfConfig":"12"},{"size":1500,"mtime":1635261296901,"results":"14","hashOfConfig":"12"},{"size":6338,"mtime":1635282813321,"results":"15","hashOfConfig":"12"},{"size":926,"mtime":1635013837630,"results":"16","hashOfConfig":"12"},{"size":213,"mtime":1634991794057,"results":"17","hashOfConfig":"12"},{"size":915,"mtime":1635092565407,"results":"18","hashOfConfig":"12"},{"size":829,"mtime":1635109559587,"results":"19","hashOfConfig":"12"},{"size":98,"mtime":1635186630343,"results":"20","hashOfConfig":"12"},{"size":953,"mtime":1635272798885,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1rcyd8f",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/index.js",[],["45","46"],"/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/App.js",[],"/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Movies.js",[],"/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Details.js",["47"],"import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport DB from '../API/DB'\nimport Rating from './Rating'\nimport classes from './Details.module.css'\n//import useLord from '../hooks/useLord';\n\n  \nconst Details = (props) => { // props for getting sparId\n \n  const [movie, setMovie] = useState(\"\");\n  const [quote, setQuote] = useState({});\n  const [characters, setCharacters] = useState(\"\");\n  const [rating, setRating] = useState(0);\n  \n  const { id: movieId } = props.match.params;\n\n   //data source\n  useEffect(() => {\n    const headers = {\n      Accept: \"application/json\",\n      Authorization: \"Bearer daNXH8aks1JeT2dEenRY\",\n    };\n\n    (async function () {\n\n      try {\n        const response = await axios.get(\n          `https://the-one-api.dev/v2/movie/${movieId}`,\n          { headers: headers }\n        );\n        setMovie(response.data.docs[0]);\n         //console.log(response.data);\n      } catch (error) {\n        console.log(\"Error quote: \" + error);\n      }\n      try {\n        const response = await axios.get(\n          `https://the-one-api.dev/v2/movie/${movieId}/quote`,\n          { headers: headers }\n        );\n        setQuote(response.data.docs);\n        //console.log(response.data.docs);\n      } catch (error) {\n        console.log(\"Error quote: \" + error);\n      }\n      try {\n        const response = await axios.get(\n          `https://the-one-api.dev/v2/character`,\n          { headers: headers }\n        );\n        setCharacters(response.data.docs);\n        console.log(response.data.docs);\n      } catch (error) {\n        console.log(\"Error character: \" + error);\n      }\n    })();\n  }, [movieId]);\n\n  useEffect(() => {\n\n    (async function() {\n\n        try{ // get data step\n            const response = await DB.get(`/movies/${movieId}`) \n                    setRating(response.data.rate);\n        } catch(error) { // post data\n          if (error.response.status === 404 && movie._id) {\n            console.log(movie._id);\n\n                await DB.post('/movies', {id:movie._id, rate:0})\n          }\n\n          // console.log(error.response.status) // 404\n        }\n    }) ()\n  }, [movie])\n\n\n  if (!quote || !characters) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    // props : rate={rating}\n    <>\n      <Link className={classes.movieDetails} to=\"/\">\n        Home\n      </Link>\n\n      <Rating rate={rating} idMovieRating={movieId} />\n      <div className={classes.liClass}>\n        <div>{movie.name}</div>\n        <ul>\n          {quote.map(({ dialog, _id }, index) => {\n            if (index > 10) return false;\n            return <li key={_id}>{dialog}</li>;\n          })}\n        </ul>\n        <ul>\n          {characters.map(({ _id, name }, index) => {\n            if (index > 10) return false;\n            return <div key={_id}>{name}</div>;\n          })}\n        </ul>\n      </div>\n    </>\n  );\n      };\n\nexport default Details\n\n    \n /* <div>{JSON.stringify(movie.name)}</div> */\n      \n    \n    \n\n//       import axios from 'axios'\n// import React, { useEffect, useState } from 'react'\n// import { Link } from 'react-router-dom'\n// //import useLord from '../hooks/useLord';\n\n\n// const Details = (props) => {\n//   const [movie, setMovie] = useState(\"\");\n//   const [quote, setQuote] = useState(\"\");\n//   const [characters, setCharacters] = useState(\"\");\n  \n//   const { id: movieId } = props.match.params;\n\n//   const [ loadingMovie, resultMovie, errorMovie ] = useLord(`movie/${movieId}`);\n//   const [ loadingQuote, resultQuote, errorQuote ] = useLord(`movie/${movieId}/quote`);\n//   const [ loadingCharacter, resultCharacter, errorCharacter ] = useLord(\"character\");\n\n//   console.log(loadingMovie);\n\n//    // data source\n//   //useEffect(() => {\n//     // const headers = {\n//     //   Accept: \"application/json\",\n//     //   Authorization: \"Bearer daNXH8aks1JeT2dEenRY\",\n//     // };\n\n//   //   (async function () {\n//   //     try {\n//   //       const response = await axios.get(\n//   //         `https://the-one-api.dev/v2/movie/${movieId}`,\n//   //         { headers: headers }\n//   //       );\n//   //       setMovie(response.data.docs[0]);\n//   //       // console.log(response.data.docs[0].name);\n//   //     } catch (error) {\n//   //       console.log(\"Error quote: \" + error);\n//   //     }\n//   //     try {\n//   //       const response = await axios.get(\n//   //         `https://the-one-api.dev/v2/movie/${movieId}/quote`,\n//   //         { headers: headers }\n//   //       );\n//   //       //console.log(response);\n//   //       setQuote(response.data.docs);\n//   //       // console.log(response.data.docs);\n//   //     } catch (error) {\n//   //       console.log(\"Error quote: \" + error);\n//   //     }\n//   //     try {\n//   //       const response = await axios.get(\n//   //         `https://the-one-api.dev/v2/character`,\n//   //         { headers: headers }\n//   //       );\n//   //       setCharacters(response.data.docs);\n//   //       //console.log(response.data.docs);\n//   //     } catch (error) {\n//   //       console.log(\"Error character: \" + error);\n//   //     }\n//   //   })();\n//   // }, [movieId]);\n\n//   // if (!quote || !characters) {\n//   //   return <div>Loading...</div>;\n//   // }\n\n\n// //   console.log(resultMovie, resultMovie.length);\n// // if (!loadingQuote || !loadingCharacter || !loadingMovie) {\n// //   return <div>Loading...</div>;\n// // }\n\n//   // if ((resultMovie.length == 1)) return \"Loading\";\n//   //console.log(resultMovie.length);\n//   console.log(resultQuote);\n//   if (!resultMovie.hasOwnProperty(\"docs\") || !resultQuote.hasOwnProperty(\"docs\") \n//   || !resultCharacter.hasOwnProperty(\"docs\") ) {\n\n//    return <div>Loading...</div>\n//   }\n\n//   return (\n//     <>\n//       <div>{resultMovie.docs[0].name}</div>\n//       <ul>\n//         {resultQuote.docs.map(({ dialog, _id }, index) => {\n//           if (index > 10) return false;\n//           return <li key={_id}>{dialog}</li>;\n//         })}\n//       </ul>\n//       <ul>\n//         {resultCharacter.docs.map(({ _id, name }, index) => {\n//           if (index > 10) return false;\n//           return <div key={_id}>{name}</div>;\n//         })}\n//       </ul>\n//     </>\n//   );\n//       };\n\n// export default Details\n\n    \n//  {/* <div>{JSON.stringify(movie.name)}</div> */}\n//       {/* \n//       */}\n    ","/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Quote.js",[],["48","49"],"/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Character.js",[],"/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/hooks/useLord.js",[],"/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/MainHeader.js",[],"/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/API/DB.js",[],"/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Rating.js",[],{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","severity":1,"message":"55","line":78,"column":6,"nodeType":"56","endLine":78,"endColumn":13,"suggestions":"57"},{"ruleId":"50","replacedBy":"58"},{"ruleId":"52","replacedBy":"59"},"no-native-reassign",["60"],"no-negated-in-lhs",["61"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'movieId'. Either include it or remove the dependency array.","ArrayExpression",["62"],["60"],["61"],"no-global-assign","no-unsafe-negation",{"desc":"63","fix":"64"},"Update the dependencies array to be: [movie, movieId]",{"range":"65","text":"66"},[2184,2191],"[movie, movieId]"]