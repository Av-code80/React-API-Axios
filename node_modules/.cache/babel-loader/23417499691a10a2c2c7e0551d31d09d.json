{"ast":null,"code":"var _jsxFileName = \"/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Rating.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { AiTwotoneStar, AiOutlineStar } from \"react-icons/ai\";\nimport DB from \"../API/DB\";\nimport classes from \"./Rating.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Rating = ({\n  rate,\n  idMovieRating\n}) => {\n  _s();\n\n  const [ratingStar, setRatingStar] = useState(rate);\n\n  const changeRate = star => {\n    DB.patch(`/movies/${idMovieRating}`, {\n      rate: star\n    }).then(() => {\n      setRatingStar(star);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.rating,\n    children: [1, 2, 3, 4, 5].map((star, index) => {\n      if (ratingStar >= index + 1) {\n        /*#__PURE__*/\n        _jsxDEV(AiTwotoneStar, {\n          className: classes.ratingColor,\n          onClick: () => changeRate(star)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 8\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(AiOutlineStar, {\n        onClick: () => changeRate(star)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n}; // const Rating = ({ rate, idMovieRating }) => {\n//   const [ratingStar, setRatingStar] = useState(rate);\n//  //console.log(rate, idMovieRating);\n//   const changeRate = async (star) => { // patch applique des modifications partielles Ã  une ressource\n//     //let finalStar = star;\n//      const response = await DB.get(`/movies/${idMovieRating}`); // if current rate is equal\n//      if (response.data.rate === star) { star = star - 1}\n//      console.log(response.data.rate);\n//     DB.patch(`/movies/${idMovieRating}`, { // settting id is needed in patch request\n//       rate: star,         //change rate to star\n//     }).then(() => {\n//      setRatingStar(star);\n//     });\n//   };\n//   return (\n//     <div className={classes.rating}>\n//       {[1, 2, 3, 4, 5].map((stared, index) => {\n//         if (ratingStar >= index + 1) {\n//           return (\n//             <AiTwotoneStar className={classes.ratingColor} onClick={() => changeRate(stared)}\n//               key={index}/>\n//           );\n//         }\n//         return <AiOutlineStar onClick={() => changeRate(stared)} key={index} />;\n//       })}\n//     </div>\n//   );\n// };\n\n\n_s(Rating, \"kCL9IRF0HgEIXgLpih/XRl/ltZ4=\");\n\n_c = Rating;\nexport default Rating;\n\nvar _c;\n\n$RefreshReg$(_c, \"Rating\");","map":{"version":3,"sources":["/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Rating.js"],"names":["React","useState","AiTwotoneStar","AiOutlineStar","DB","classes","Rating","rate","idMovieRating","ratingStar","setRatingStar","changeRate","star","patch","then","rating","map","index","ratingColor"],"mappings":";;;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,aAAT,EAAwBC,aAAxB,QAA6C,gBAA7C;AACA,OAAOC,EAAP,MAAe,WAAf;AACA,OAAOC,OAAP,MAAoB,qBAApB;;;AAIA,MAAMC,MAAM,GAAG,CAAC;AAACC,EAAAA,IAAD;AAAOC,EAAAA;AAAP,CAAD,KAA2B;AAAA;;AACzC,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAACM,IAAD,CAA5C;;AAED,QAAMI,UAAU,GAAIC,IAAD,IAAU;AAC3BR,IAAAA,EAAE,CAACS,KAAH,CAAU,WAAUL,aAAc,EAAlC,EAAqC;AACnCD,MAAAA,IAAI,EAAEK;AAD6B,KAArC,EAGGE,IAHH,CAGQ,MAAM;AACZJ,MAAAA,aAAa,CAACE,IAAD,CAAb;AACD,KALD;AAMD,GAPD;;AAQA,sBACI;AAAK,IAAA,SAAS,EAAEP,OAAO,CAACU,MAAxB;AAAA,cACH,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgBC,GAAhB,CAAoB,CAACJ,IAAD,EAAOK,KAAP,KAAiB;AAEpC,UAAIR,UAAU,IAAIQ,KAAK,GAAG,CAA1B,EAA8B;AACzB;AAAA,gBAAC,aAAD;AACE,UAAA,SAAS,EAAEZ,OAAO,CAACa,WADrB;AAEE,UAAA,OAAO,EAAE,MAAMP,UAAU,CAACC,IAAD;AAF3B,WAGOK,KAHP;AAAA;AAAA;AAAA;AAAA;AAKJ;;AACE,0BAAO,QAAC,aAAD;AAAe,QAAA,OAAO,EAAE,MAAMN,UAAU,CAACC,IAAD;AAAxC,SACFK,KADE;AAAA;AAAA;AAAA;AAAA,cAAP;AAGJ,KAZA;AADG;AAAA;AAAA;AAAA;AAAA,UADJ;AAmBC,CA9BD,C,CAuCA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;GArEMX,M;;KAAAA,M;AAuEN,eAAeA,MAAf","sourcesContent":["\nimport React, { useState } from \"react\";\nimport { AiTwotoneStar, AiOutlineStar } from \"react-icons/ai\";\nimport DB from \"../API/DB\";\nimport classes from \"./Rating.module.css\";\n\n\n\nconst Rating = ({rate, idMovieRating}) => {\n const [ratingStar, setRatingStar] = useState(rate)\n\nconst changeRate = (star) => {\n  DB.patch(`/movies/${idMovieRating}`, {\n    rate: star,\n\n  }).then(() => {\n    setRatingStar(star);\n  });\n}\nreturn (\n    <div className={classes.rating}>\n{[1, 2, 3, 4, 5].map((star, index) => {\n\n  if (ratingStar >= index + 1 ) {\n       <AiTwotoneStar\n         className={classes.ratingColor}\n         onClick={() => changeRate(star)}\n         key={index}\n       />;\n  }\n     return <AiOutlineStar onClick={() => changeRate(star)} \n     key={index}\n     />;\n}) \n  \n}\n   </div>\n)\n}\n\n\n\n\n\n\n\n\n// const Rating = ({ rate, idMovieRating }) => {\n//   const [ratingStar, setRatingStar] = useState(rate);\n//  //console.log(rate, idMovieRating);\n\n//   const changeRate = async (star) => { // patch applique des modifications partielles Ã  une ressource\n//     //let finalStar = star;\n//      const response = await DB.get(`/movies/${idMovieRating}`); // if current rate is equal\n//      if (response.data.rate === star) { star = star - 1}\n//      console.log(response.data.rate);\n\n//     DB.patch(`/movies/${idMovieRating}`, { // settting id is needed in patch request\n//       rate: star,         //change rate to star\n//     }).then(() => {\n//      setRatingStar(star);\n//     });\n//   };\n\n//   return (\n//     <div className={classes.rating}>\n//       {[1, 2, 3, 4, 5].map((stared, index) => {\n//         if (ratingStar >= index + 1) {\n//           return (\n//             <AiTwotoneStar className={classes.ratingColor} onClick={() => changeRate(stared)}\n//               key={index}/>\n//           );\n//         }\n//         return <AiOutlineStar onClick={() => changeRate(stared)} key={index} />;\n//       })}\n//     </div>\n//   );\n// };\n\nexport default Rating;\n"]},"metadata":{},"sourceType":"module"}