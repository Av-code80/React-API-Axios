{"ast":null,"code":"var _jsxFileName = \"/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Rating.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { AiTwotoneStar, AiOutlineStar } from \"react-icons/ai\";\nimport DB from \"../API/DB\";\nimport classes from \"./Rating.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Rating = ({\n  rate,\n  idMovieRating\n}) => {\n  _s();\n\n  const [ratingStar, setRatingStar] = useState(rate);\n\n  const changeRate = star => {\n    console.log(star);\n    DB.patch(`/movies/${idMovieRating}`, {\n      rate: star.then(() => {\n        setRatingStar(star);\n      })\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.rating,\n    children: [1, 2, 3, 4, 5].map((stared, index) => {\n      if (ratingStar >= index + 1) {\n        /*#__PURE__*/\n        _jsxDEV(AiTwotoneStar, {\n          className: classes.ratingColor,\n          onClick: () => changeRate(stared)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 8\n        }, this);\n      }\n\n      /*#__PURE__*/\n      _jsxDEV(AiOutlineStar, {\n        onClick: () => changeRate(stared)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 6\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n}; // const Rating = ({ rate, idMovieRating }) => {\n//   const [ratingStar, setRatingStar] = useState(rate);\n//  //console.log(rate, idMovieRating);\n//   const changeRate = async (star) => { // patch applique des modifications partielles Ã  une ressource\n//     //let finalStar = star;\n//      const response = await DB.get(`/movies/${idMovieRating}`); // if current rate is equal\n//      if (response.data.rate === star) { star = star - 1}\n//      console.log(response.data.rate);\n//     DB.patch(`/movies/${idMovieRating}`, { // settting id is needed in patch request\n//       rate: star,         //change rate to star\n//     }).then(() => {\n//      setRatingStar(star);\n//     });\n//   };\n//   return (\n//     <div className={classes.rating}>\n//       {[1, 2, 3, 4, 5].map((stared, index) => {\n//         if (ratingStar >= index + 1) {\n//           return (\n//             <AiTwotoneStar className={classes.ratingColor} onClick={() => changeRate(stared)}\n//               key={index}\n//             />\n//           );\n//         }\n//         return <AiOutlineStar onClick={() => changeRate(stared)} key={index} />;\n//       })}\n//     </div>\n//   );\n// };\n\n\n_s(Rating, \"kCL9IRF0HgEIXgLpih/XRl/ltZ4=\");\n\n_c = Rating;\nexport default Rating;\n\nvar _c;\n\n$RefreshReg$(_c, \"Rating\");","map":{"version":3,"sources":["/Users/avehghasemian/Desktop/lord-of-rings/React-API-Axios/src/components/Rating.js"],"names":["React","useState","AiTwotoneStar","AiOutlineStar","DB","classes","Rating","rate","idMovieRating","ratingStar","setRatingStar","changeRate","star","console","log","patch","then","rating","map","stared","index","ratingColor"],"mappings":";;;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,aAAT,EAAwBC,aAAxB,QAA6C,gBAA7C;AACA,OAAOC,EAAP,MAAe,WAAf;AACA,OAAOC,OAAP,MAAoB,qBAApB;;;AAIA,MAAMC,MAAM,GAAG,CAAC;AAACC,EAAAA,IAAD;AAAOC,EAAAA;AAAP,CAAD,KAA2B;AAAA;;AACzC,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAACM,IAAD,CAA5C;;AAED,QAAMI,UAAU,GAAIC,IAAD,IAAU;AAC7BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACER,IAAAA,EAAE,CAACW,KAAH,CAAU,WAAUP,aAAc,EAAlC,EAAqC;AACnCD,MAAAA,IAAI,EAAEK,IAAI,CAETI,IAFK,CAEA,MAAM;AACVN,QAAAA,aAAa,CAACE,IAAD,CAAb;AACD,OAJK;AAD6B,KAArC;AAOD,GATD;;AAUA,sBACI;AAAK,IAAA,SAAS,EAAEP,OAAO,CAACY,MAAxB;AAAA,cACH,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgBC,GAAhB,CAAoB,CAACC,MAAD,EAASC,KAAT,KAAmB;AAEtC,UAAIX,UAAU,IAAIW,KAAK,GAAG,CAA1B,EAA8B;AACzB;AAAA,gBAAC,aAAD;AACE,UAAA,SAAS,EAAEf,OAAO,CAACgB,WADrB;AAEE,UAAA,OAAO,EAAE,MAAMV,UAAU,CAACQ,MAAD;AAF3B;AAAA;AAAA;AAAA;AAAA;AAKJ;;AACE;AAAA,cAAC,aAAD;AAAe,QAAA,OAAO,EAAE,MAAMR,UAAU,CAACQ,MAAD;AAAxC;AAAA;AAAA;AAAA;AAAA;AAGJ,KAZA;AADG;AAAA;AAAA;AAAA;AAAA,UADJ;AAiBC,CA9BD,C,CAuCA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;GAtEMb,M;;KAAAA,M;AAwEN,eAAeA,MAAf","sourcesContent":["\nimport React, { useState } from \"react\";\nimport { AiTwotoneStar, AiOutlineStar } from \"react-icons/ai\";\nimport DB from \"../API/DB\";\nimport classes from \"./Rating.module.css\";\n\n\n\nconst Rating = ({rate, idMovieRating}) => {\n const [ratingStar, setRatingStar] = useState(rate)\n\nconst changeRate = (star) => {\nconsole.log(star);\n  DB.patch(`/movies/${idMovieRating}`, {\n    rate: star\n\n    .then(() => {\n      setRatingStar(star)\n    })\n  } )\n}\nreturn (\n    <div className={classes.rating}>\n{[1, 2, 3, 4, 5].map((stared, index) => {\n\n  if (ratingStar >= index + 1 ) {\n       <AiTwotoneStar\n         className={classes.ratingColor}\n         onClick={() => changeRate(stared)}\n       />;\n\n  }\n     <AiOutlineStar onClick={() => changeRate(stared)} />;\n\n\n}) }\n   </div>\n)\n}\n\n\n\n\n\n\n\n\n// const Rating = ({ rate, idMovieRating }) => {\n//   const [ratingStar, setRatingStar] = useState(rate);\n//  //console.log(rate, idMovieRating);\n\n//   const changeRate = async (star) => { // patch applique des modifications partielles Ã  une ressource\n//     //let finalStar = star;\n//      const response = await DB.get(`/movies/${idMovieRating}`); // if current rate is equal\n//      if (response.data.rate === star) { star = star - 1}\n//      console.log(response.data.rate);\n\n//     DB.patch(`/movies/${idMovieRating}`, { // settting id is needed in patch request\n//       rate: star,         //change rate to star\n//     }).then(() => {\n//      setRatingStar(star);\n//     });\n//   };\n\n//   return (\n//     <div className={classes.rating}>\n//       {[1, 2, 3, 4, 5].map((stared, index) => {\n//         if (ratingStar >= index + 1) {\n//           return (\n//             <AiTwotoneStar className={classes.ratingColor} onClick={() => changeRate(stared)}\n//               key={index}\n//             />\n//           );\n//         }\n//         return <AiOutlineStar onClick={() => changeRate(stared)} key={index} />;\n//       })}\n//     </div>\n//   );\n// };\n\nexport default Rating;\n"]},"metadata":{},"sourceType":"module"}